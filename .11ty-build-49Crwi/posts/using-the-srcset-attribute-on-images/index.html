<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using the Srcset attribute on images</title>
    <meta name="description" content="So, I&#39;ve been using the relatively new (and somewhat confusing) srcset attribute to serve a couple of interesting use cases lately. This spec is really, really useful in certain circumstances, two of which I&#39;d like to share with you here.">
    <meta property="og:site_name" content="Using the Srcset attribute on images">
    <meta property="og:locale" content="en_GB">
    <meta property="og:type" content="website">
    <meta property="og:description" content="So, I&#39;ve been using the relatively new (and somewhat confusing) srcset attribute to serve a couple of interesting use cases lately. This spec is really, really useful in certain circumstances, two of which I&#39;d like to share with you here.">
    <meta property="og:title" content="Using the Srcset attribute on images" />
    <meta property="og:image" content="/img/sharecard-default.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@muzzlehatch_" />
    <meta name="twitter:title" content="Using the Srcset attribute on images" />
    <meta
      name="twitter:description"
      content="So, I&#39;ve been using the relatively new (and somewhat confusing) srcset attribute to serve a couple of interesting use cases lately. This spec is really, really useful in certain circumstances, two of which I&#39;d like to share with you here."
    />
    <meta name="twitter:image" content="/img/sharecard-default.png" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "headline": "Using the Srcset attribute on images",
        "author": {
          "@type": "Person",
          "name": "Benjamin Read"
        },
        "datePublished": "2016-01-15T15:21:21+01:00",
        "image": "/img/sharecard-default.png"
      }
    </script>
    <link rel="icon" href="/img/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Delicious Reverie">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Delicious Reverie">
  </head>
  <body>
    <a id="skiplinks" href="#main">Skip to main content</a>
    <p class="themeswitcher">Choose theme:</p>
    <label class="themeswitcher" for="dark">Light</label>
    <input class="themeswitcher" type="radio" id="light" name="colors" value="light">
    <label  class="themeswitcher" for="dark">Dark</label>
    <input  class="themeswitcher" type="radio" id="dark" name="colors" value="dark">
    <header>
      <div class="container">
        <div class="title home"><a href="/">Delicious Reverie</a></div>
        <p class="subtitle">blog of developer &amp; bookworm benjamin read</p>
        <nav>
          <ul class="list-inline">
            <li class="nav-item">
              <a href="/">Home</a>
            </li>
            <li class="nav-item">
              <a href="/about/">About</a>
            </li>
            <li class="nav-item">
              <a href="/links/">Links</a>
            </li>
            <li class="nav-item">
              <a href="/posts/">Archive</a>
            </li>
            <li class="nav-item">
              <a href="/contact/">Contact</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="main tmpl-post">
      
      <div class="container">
        <h1>Using the Srcset attribute on images</h1>

<time datetime="2016-01-15">15 Jan 2016</time><a href="/tags/html/" class="post-tag">html</a>

<p><strong>So, I've been using the relatively new (and somewhat confusing) srcset attribute to serve a couple of interesting use cases lately. This spec is really, really useful in certain circumstances, two of which I'd like to share with you here.</strong></p>
<h3 id="situation-1:-you-want-to-use-svgs-but-need-to-support-browsers-that-don't" tabindex="-1">Situation 1: You want to use SVGs, but need to support browsers that don't <a class="direct-link" href="#situation-1:-you-want-to-use-svgs-but-need-to-support-browsers-that-don't" aria-hidden="true">#</a></h3>
<p><img src="/img/screen-shot-2016-01-15-at-21.19.20.png" alt="Can I Use screenshot for SVG support"></p>
<p>SVG support is fairly advanced across the browser spectrum (above), but srcset is supported less, especially by legacy IE browsers (below). This allows us to use the srcset attribute to specify an SVG image (or WebP for that matter), allowing newer browsers to download the Srcset image in preference, and older browsers to use the fallback .png file (or whatever else).</p>
<p><img src="/img/screen-shot-2016-01-15-at-21.19.45.png" alt="Can I Use browser support chart for Srcsets"></p>
<p>I can't claim to have thought of this myself, Sara Soueidan covered this concept <a href="https://sarasoueidan.com/blog/svg-picture/" title="Better SVG Fallback and Art Direction with the &lt;picture&gt; Element on sarasouiedan.com">on her blog in February 2015</a>.</p>
<p>The markup for this could actually be quite minimal:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo.png<span class="token punctuation">"</span></span><br>	<span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo.svg<span class="token punctuation">"</span></span><br>	<span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alt text goes here<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>The browsers that recognise <code>srcset</code> will download that asset, so you'll get a nice crisp SVG, otherwise older browsers (which don't have support for svg either) will get the image.</p>
<p>I routinely add dimensions to my srcsets to avoid rendering problems in certain browsers where they will always render the SVG at the natural height &amp; width of the SVG, so if you have a different sized png, things can get a little crazy.</p>
<p>###Situation 2: You want to use 2 different images at different breakpoints</p>
<p>Just recently I had a client requirement for an image that would be wide &amp; narrow at large breakpoints, and thinner and taller at smaller, like this image demonstrates:</p>
<p><img src="/img/srcset-example.png" alt="two images at different breakpoints"></p>
<p>Yes I could do this with background images in CSS, but then the browser would <em>have</em> to download <em>both</em> images, increasing the page weight. Srcset solves this problem by fetching the appropriate image based on what sizes you stipulate in your media queries. This took me a few tries to get right, but I ended up with a robust solution that would conserve bandwidth:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><br>	<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fallback.png<span class="token punctuation">"</span></span><br>	<span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><br>			small.png 649w,<br>			large.png 1140w<br>		<span class="token punctuation">"</span></span><br>	<span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><br>		(max-width:767px) 649w,<br>		(min-width:768px) 1140w<br>	<span class="token punctuation">"</span></span><br>       <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>descriptive text<span class="token punctuation">"</span></span><br><span class="token punctuation">/></span></span></code></pre>
<p>What I'm doing is specifying that the browser should behave this way:</p>
<ul>
<li>If the viewport width is below this, show the smaller image</li>
<li>If the viewport is above that, use the other image</li>
</ul>
<p>I started off without the <code>max-width</code> query, but was always getting the larger image, which seemed to render correctly after I introduced this query.</p>
<p><a href="https://ericportis.com/posts/2014/srcset-sizes/" title="Srcset and sizes on ericportis.com">Eric Portis' comprehensive explanation</a> was great at getting me to think about how to do this, what I'm trying to do here is break it down to be something I can use in production without having to fry my little brain at the staggering genius that are the foundation tools of our trade.</p>

<hr>
<ul><li>Next: <a href="/posts/on-being-an-advocate/">On Being An Advocate</a></li><li>Previous: <a href="/posts/wordpress-themeing-with-backbone-js/">Wordpress theming with Backbone.js</a></li>
</ul>

      </div>
    </main>

    <footer>
        <div class="footer-top">
          <div class="container">
            <blockquote>
              <span class="title">“Wisest are they who know they do not know.”</span>
              <attr>
                &mdash; Jostein Gaarder
              </attr>
            </blockquote>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="container">
            <h2>About This Site</h2>
            <p><a href="/">Delicious Reverie</a> is the blog of developer & bookworm <span class="h-card">benjamin read</span>. Set in Lovechild and your system font. Built with <a href="https://www.11ty.dev">Eleventy</a> and <a href="https://slinkity.dev">Slinkity</a>, hosted by Netlify. &copy; Some rights are reserved. This site doesn't use any cookies or other session storage and has no tracking scripts.</p>
          <h3>Where you can find me:</h3>
            <ul class="list-inline">
              <li><a href="https://twitter.com/muzzlehatch_">twitter</a></li>
              <li><a href="https://www.linkedin.com/in/benjaminread1980/">linkedin</a></li>
              <li><a href="https://github.com/endymion1818/">github</a></li>
              <li><a href="/feed.xml">RSS Feed</a></li>
            </ul>
          </div>
        </div>
    </footer>
  </body>
</html>
