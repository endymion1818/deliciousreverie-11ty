<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should I use ternary or the logical and operator?</title>
    <meta name="description" content="Templating with JSX in React is easy ... until it&#39;s not. Recently a colleague recommended I use the logical and operator instead of a ternary. However once we&#39;d dug into it a little, we found these operators do very different things ...">
    <meta property="og:site_name" content="Should I use ternary or the logical and operator?">
    <meta property="og:locale" content="en_GB">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Templating with JSX in React is easy ... until it&#39;s not. Recently a colleague recommended I use the logical and operator instead of a ternary. However once we&#39;d dug into it a little, we found these operators do very different things ...">
    <meta property="og:title" content="Should I use ternary or the logical and operator?" />
    <meta property="og:image" content="/img/sharecard-default.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@muzzlehatch_" />
    <meta name="twitter:title" content="Should I use ternary or the logical and operator?" />
    <meta
      name="twitter:description"
      content="Templating with JSX in React is easy ... until it&#39;s not. Recently a colleague recommended I use the logical and operator instead of a ternary. However once we&#39;d dug into it a little, we found these operators do very different things ..."
    />
    <meta name="twitter:image" content="/img/sharecard-default.png" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "headline": "Should I use ternary or the logical and operator?",
        "author": {
          "@type": "Person",
          "name": "Benjamin Read"
        },
        "datePublished": "2021-05-06T10:21:21+01:00",
        "image": "/img/sharecard-default.png"
      }
    </script>
    <link rel="icon" href="/img/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Delicious Reverie">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Delicious Reverie">
  </head>
  <body>
    <a id="skiplinks" href="#main">Skip to main content</a>
    <p class="themeswitcher">Choose theme:</p>
    <label class="themeswitcher" for="dark">Light</label>
    <input class="themeswitcher" type="radio" id="light" name="colors" value="light">
    <label  class="themeswitcher" for="dark">Dark</label>
    <input  class="themeswitcher" type="radio" id="dark" name="colors" value="dark">
    <header>
      <div class="container">
        <div class="title home"><a href="/">Delicious Reverie</a></div>
        <p class="subtitle">blog of developer &amp; bookworm benjamin read</p>
        <nav>
          <ul class="list-inline">
            <li class="nav-item">
              <a href="/">Home</a>
            </li>
            <li class="nav-item">
              <a href="/about/">About</a>
            </li>
            <li class="nav-item">
              <a href="/links/">Links</a>
            </li>
            <li class="nav-item">
              <a href="/posts/">Archive</a>
            </li>
            <li class="nav-item">
              <a href="/contact/">Contact</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="main tmpl-post">
      
      <div class="container">
        <h1>Should I use ternary or the logical and operator?</h1>

<time datetime="2021-05-06">06 May 2021</time><a href="/tags/javascript/" class="post-tag">javascript</a><a href="/tags/react/" class="post-tag">react</a>

<p><strong>Templating with JSX in React is easy ... until it's not. Recently a colleague recommended I use the logical and operator instead of a ternary. However once we'd dug into it a little, we found these operators do very different things ...</strong></p>
<p>Quite often we follow this pattern for brevity, and there's good value doing it if there's only one variable at play:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><br>  isLoggedIn <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>SomeComponent <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>This avoids us from having to write something like</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><br>  isLoggedIn <span class="token operator">?</span> <span class="token operator">&lt;</span>SomeComponent <span class="token operator">/</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>which is totally redundant here, since if it's value is <code>false</code>, it won't return the component.</p>
<p>However, when there's a couple of things going on you might find it doing something unexpected:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><br>  formErrors<span class="token punctuation">.</span>likesPotatoes <span class="token operator">||</span><br>  formErrors<span class="token punctuation">.</span>likesBananas <span class="token operator">||</span><br>  formErrors<span class="token punctuation">.</span>likesCake <span class="token operator">?</span> <span class="token punctuation">(</span><br>    <span class="token operator">&lt;</span>NotificationMessage icon<span class="token operator">=</span><span class="token string">"alert"</span> status<span class="token operator">=</span><span class="token string">"error"</span><span class="token operator">></span><br>      <span class="token operator">&lt;</span>p<span class="token operator">></span><br>        Please ensure that all the required questions have been answered before<br>        proceeding<span class="token punctuation">.</span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>NotificationMessage<span class="token operator">></span><br>  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>is <strong>not</strong> equivalent to:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><br>  formErrors<span class="token punctuation">.</span>likesPotatoes <span class="token operator">||</span><br>    formErrors<span class="token punctuation">.</span>likesBananas <span class="token operator">||</span><br>    <span class="token punctuation">(</span>formErrors<span class="token punctuation">.</span>likesCake <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><br>      <span class="token operator">&lt;</span>NotificationMessage icon<span class="token operator">=</span><span class="token string">"alert"</span> status<span class="token operator">=</span><span class="token string">"error"</span><span class="token operator">></span><br>        <span class="token operator">&lt;</span>p<span class="token operator">></span><br>          Please ensure that all the required questions have been answered<br>          before proceeding<span class="token punctuation">.</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>NotificationMessage<span class="token operator">></span><br>    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>With the ternary operator (<code>isTrue ? dothis : dothat</code>), our <code>&lt;NotificationMessage/&gt;</code> will show when <em>any</em> of the conditions are met. The logical AND (<code>isTrue &amp;&amp; dothat</code>) will only show the component if <em>all</em> of the conditions are met.</p>
<p>Why?</p>
<h2 id="the-difference-between-the-logical-and-and-ternaries" tabindex="-1">The Difference between the logical AND and ternaries <a class="direct-link" href="#the-difference-between-the-logical-and-and-ternaries" aria-hidden="true">#</a></h2>
<p>Ternaries work similar to the <code>if</code> operator. So it short circuits (closes off before any other variable is assessed), and returns true if any of the values are true.</p>
<p>On the other hand, the logical AND operator returns true <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND" title="MDN docs for logical and operator">only if and only if all of its operands are true</a>.</p>
<p>In our case, when checking for form errors, we want to show a notification if <em>any</em> of the fields have an error. So the ternary is the way to go.</p>
<h2 id="alternative-1:-abstract-it" tabindex="-1">Alternative 1: abstract it <a class="direct-link" href="#alternative-1:-abstract-it" aria-hidden="true">#</a></h2>
<p>There is another way of handling this situation where you could use the logical AND: chain those errors in a variable before <code>return</code>ing the JSX:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> hasError <span class="token operator">=</span><br>  formErrors<span class="token punctuation">.</span>likesPotatoes <span class="token operator">||</span> formErrors<span class="token punctuation">.</span>likesBananas <span class="token operator">||</span> formErrors<span class="token punctuation">.</span>likesCake<span class="token punctuation">;</span><br><span class="token keyword">return</span> <span class="token punctuation">(</span><br>  <span class="token operator">&lt;</span><span class="token operator">></span><br>    <span class="token punctuation">{</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><br>      <span class="token operator">&lt;</span>NotificationMessage icon<span class="token operator">=</span><span class="token string">"alert"</span> status<span class="token operator">=</span><span class="token string">"error"</span><span class="token operator">></span><br>        <span class="token operator">&lt;</span>p<span class="token operator">></span><br>          Please ensure that all the required questions have been answered<br>          before proceeding<span class="token punctuation">.</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>NotificationMessage<span class="token operator">></span><br>    <span class="token punctuation">)</span><span class="token punctuation">}</span><br>  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="alternative-2:-wrap-it" tabindex="-1">Alternative 2: Wrap it <a class="direct-link" href="#alternative-2:-wrap-it" aria-hidden="true">#</a></h2>
<p>My friend Warrick Hill mentioned that you could also wrap the options in brackets to ensure they get evaluated together and therefore don't short circuit. This is how mathematical bracket operators work, where everything inside the brackets gets evaluated first, for example <code>(2 * 3) + 2 = 8</code> but <code>2 \* (3 + 2) = 10</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">return</span> <span class="token punctuation">(</span><br>  <span class="token operator">&lt;</span><span class="token operator">></span><br>    <span class="token punctuation">{</span><span class="token punctuation">(</span>formErrors<span class="token punctuation">.</span>likesPotatoes <span class="token operator">||</span><br>      formErrors<span class="token punctuation">.</span>likesBananas <span class="token operator">||</span><br>      formErrors<span class="token punctuation">.</span>likesCake<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><br>      <span class="token operator">&lt;</span>NotificationMessage icon<span class="token operator">=</span><span class="token string">"alert"</span> status<span class="token operator">=</span><span class="token string">"error"</span><span class="token operator">></span><br>        <span class="token operator">&lt;</span>p<span class="token operator">></span><br>          Please ensure that all the required questions have been answered<br>          before proceeding<span class="token punctuation">.</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>NotificationMessage<span class="token operator">></span><br>    <span class="token punctuation">)</span><span class="token punctuation">}</span><br>  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Although Warrick points out that this is harder to spot than the alternative #1 above.</p>
<h2 id="thanks" tabindex="-1">Thanks <a class="direct-link" href="#thanks" aria-hidden="true">#</a></h2>
<p>Thanks to Aimable N and Chris Geary (as well as Warrick) for their help with this article.</p>

<hr>
<ul><li>Next: <a href="/posts/towards-better-rehydration/">Towards better hydration</a></li><li>Previous: <a href="/posts/nesting-styled-components-properties/">Working with styled components: multiple nested properties</a></li>
</ul>

      </div>
    </main>

    <footer>
        <div class="footer-top">
          <div class="container">
            <blockquote>
              <span class="title">“Wisest are they who know they do not know.”</span>
              <attr>
                &mdash; Jostein Gaarder
              </attr>
            </blockquote>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="container">
            <h2>About This Site</h2>
            <p><a href="/">Delicious Reverie</a> is the blog of developer & bookworm <span class="h-card">benjamin read</span>. Set in Lovechild and your system font. Built with <a href="https://www.11ty.dev">Eleventy</a> and <a href="https://slinkity.dev">Slinkity</a>, hosted by Netlify. &copy; Some rights are reserved. This site doesn't use any cookies or other session storage and has no tracking scripts.</p>
          <h3>Where you can find me:</h3>
            <ul class="list-inline">
              <li><a href="https://twitter.com/muzzlehatch_">twitter</a></li>
              <li><a href="https://www.linkedin.com/in/benjaminread1980/">linkedin</a></li>
              <li><a href="https://github.com/endymion1818/">github</a></li>
              <li><a href="/feed.xml">RSS Feed</a></li>
            </ul>
          </div>
        </div>
    </footer>
  </body>
</html>
